# edit in vim buffer
autoload edit-command-line; zle -N edit-command-line
bindkey -M vicmd "^v" edit-command-line

# Use vim keys in tab complete menu
bindkey -M menuselect 'h' vi-backward-char
bindkey -M menuselect 'j' vi-down-line-or-history
bindkey -M menuselect 'k' vi-up-line-or-history
bindkey -M menuselect 'l' vi-forward-char

bindkey -M menuselect 'left' vi-backward-char
bindkey -M menuselect 'down' vi-down-line-or-history
bindkey -M menuselect 'up' vi-up-line-or-history
bindkey -M menuselect 'right' vi-forward-char

# This makes Tab and ShiftTab, when pressed on the command line, enter the menu instead of inserting a completion:
bindkey '^I' menu-select
bindkey '$terminfo[kcbt]' menu-select

# Fix backspace bug when switching modes
bindkey "^?" backward-delete-char

# Accept the autosuggestion with ctrl + spacebar
bindkey '^ ' autosuggest-accept
